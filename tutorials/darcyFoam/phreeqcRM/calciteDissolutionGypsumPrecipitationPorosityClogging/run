#Script to mesh, run the benchmark case (B2. M Xie - Calcite dissolution, Gypsum precipitation - dissolution), post process output data, plot results

echo Building mesh
blockMesh > log.blockMesh

echo Running the case
darcyFoam > log.darcyFoam
echo End of the run

#Output cell center data at 10, 100 years
#Data written for - 
#porosity, 
#hydraulic head (pressure), 
#gypsum volume fraction, 
#hydraulic conductivity (permeability),
#calcite volume fraction and 
#flux
echo Postprocessing output data - check postProcess folder
postProcess -time 3.149928e+08,3.1499928e+09 -func graphCell

#Output flux
postProcess -time 0:6e+09 -func 'patchFlowRate(patch=outlet)'

gnuplot plot.gp

echo END
